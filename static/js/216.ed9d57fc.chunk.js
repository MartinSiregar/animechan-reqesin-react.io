"use strict";(self.webpackChunkanimechan_react=self.webpackChunkanimechan_react||[]).push([[216],{5404:(e,r,a)=>{a.d(r,{c:()=>n});a(9060);var s=a(8464),t=a(2496);const n=e=>{let{visible:r}=e;return(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:r?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:9999},children:(0,t.jsx)(s.c,{size:"large"})})}},4216:(e,r,a)=>{a.r(r),a.d(r,{default:()=>m});var s=a(9060),t=a(3144),n=a(624),i=a(3284),l=a(9864),o=a(1600),c=a(9104),d=a(5404),u=a(2496);const m=()=>{const e=(0,n.OY)(),r=(0,t.Uz)(),[a,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!1);return(0,u.jsxs)(l.c,{name:"registration-form",onFinish:async s=>{try{h(!0);const{regist:a,error:t}=await e((0,i.sV)(s));a?(r.push("/login"),window.location.reload()):m(t)}catch(a){console.error("Register error:",a)}finally{h(!1)}},initialValues:{remember:!0},layout:"vertical",style:{width:"300px",margin:"auto",marginTop:"100px"},children:[(0,u.jsx)(l.c.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Invalid email format!"}],children:(0,u.jsx)(o.default,{})}),(0,u.jsx)(l.c.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,u.jsx)(o.default.Password,{})}),(0,u.jsx)(l.c.Item,{label:"Confirm Password",name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"Please confirm your password!"},e=>{let{getFieldValue:r}=e;return{validator:(e,a)=>a&&r("password")!==a?Promise.reject(new Error("Passwords do not match!")):Promise.resolve()}}],children:(0,u.jsx)(o.default.Password,{})}),(0,u.jsx)(l.c.Item,{children:(0,u.jsx)(c.cp,{type:"primary",htmlType:"submit",children:"Register"})}),(0,u.jsx)(d.c,{visible:p})]})}},3284:(e,r,a)=>{a.d(r,{Mp:()=>t,sV:()=>n});var s=a(8372);const t=(e,r)=>async a=>{try{const t=await s.c.post("https://reqres.in/api/login",{username:e,password:r}),{token:n}=t.data;return localStorage.setItem("token",n),a({type:"LOGIN_SUCCESS",payload:t.data}),{user:t.data,error:null}}catch(t){return{user:null,error:"Invalid credentials. Please try again."}}},n=e=>async r=>{try{const a=await s.c.post("https://reqres.in/api/register",e);return r({type:"REGIST_SUCCESS",payload:a.data}),{regist:a.data,error:null}}catch(a){return{regist:null,error:"Invalid credentials. Please try again."}}}}}]);
//# sourceMappingURL=216.ed9d57fc.chunk.js.map