"use strict";(self.webpackChunkanimechan_react=self.webpackChunkanimechan_react||[]).push([[576],{5404:(e,r,a)=>{a.d(r,{c:()=>n});a(9060);var s=a(8464),t=a(2496);const n=e=>{let{visible:r}=e;return(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:r?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:9999},children:(0,t.jsx)(s.c,{size:"large"})})}},4576:(e,r,a)=>{a.r(r),a.d(r,{default:()=>m});var s=a(9060),t=a(3144),n=a(624),l=a(3284),i=a(9864),c=a(1600),o=a(9104),d=a(5404),u=a(2496);const m=()=>{const e=(0,n.OY)(),r=(0,t.Uz)(),[a,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!1);return(0,u.jsxs)(i.c,{name:"basic",initialValues:{remember:!0},onFinish:async s=>{try{h(!0);const{user:a,error:t}=await e((0,l.Mp)(s.username,s.password));a?(r.push("/home"),window.location.reload()):m(t)}catch(a){console.error("Login error:",a)}finally{h(!1)}},style:{width:"300px",margin:"auto",marginTop:"100px"},className:"max-w-md mt-16 p-6 bg-white rounded-md shadow-md",children:[(0,u.jsx)(i.c.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],className:"text-bermuda mb-4",children:(0,u.jsx)(c.default,{className:"w-full"})}),(0,u.jsx)(i.c.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],className:"mb-4",children:(0,u.jsx)(c.default.Password,{className:"w-full"})}),(0,u.jsxs)(i.c.Item,{children:[(0,u.jsx)(o.cp,{type:"primary",htmlType:"submit",className:"w-full",children:"Log in"})," Or ",(0,u.jsx)("a",{onClick:()=>{(0,s.startTransition)((()=>{r.push("/register")}))},children:"register now!"})]}),(0,u.jsx)(i.c.Item,{children:a&&(0,u.jsx)("p",{style:{color:"red"},children:a})}),(0,u.jsx)(d.c,{visible:p})]})}},3284:(e,r,a)=>{a.d(r,{Mp:()=>t,sV:()=>n});var s=a(8372);const t=(e,r)=>async a=>{try{const t=await s.c.post("https://reqres.in/api/login",{username:e,password:r}),{token:n}=t.data;return localStorage.setItem("token",n),a({type:"LOGIN_SUCCESS",payload:t.data}),{user:t.data,error:null}}catch(t){return{user:null,error:"Invalid credentials. Please try again."}}},n=e=>async r=>{try{const a=await s.c.post("https://reqres.in/api/register",e);return r({type:"REGIST_SUCCESS",payload:a.data}),{regist:a.data,error:null}}catch(a){return{regist:null,error:"Invalid credentials. Please try again."}}}}}]);
//# sourceMappingURL=576.42fbe6d0.chunk.js.map